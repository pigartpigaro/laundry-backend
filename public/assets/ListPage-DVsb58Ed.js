import{Q as u}from"./QItemLabel-BQdZaWoa.js";import{r as m,aA as M,c as N,W as p,a4 as h,Y as d,$ as r,f as a,Z as t,a2 as o,aT as w,F as P,aV as j,X as _,Q as A,a0 as E,a9 as c,a8 as i,aj as F,a5 as R}from"./index-C65Hd5S6.js";import{Q as z,a as f}from"./QItem-BmvTbfCZ.js";import{Q as K}from"./QBadge-B3PrbMx8.js";import{Q as O,a as U,b as W}from"./QInfiniteScroll-Dzw5iQf_.js";import{Q as X}from"./QList-573_Wy6u.js";import{u as Y}from"./notifs-C5sbblO4.js";import{a as Z}from"./formatter-BUPKQdZl.js";import{h as G,j as H}from"./utils-BQ_Zqjwh.js";import{u as J}from"./list-CUTjb7pe.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"column fit"},te={class:"col full-height"},oe={class:"full-height q-pa-sm"},se={class:"col-auto"},le={class:"row full-width items-center"},ne={class:"col-grow"},re={class:"flex items-center"},de={class:"col-auto"},ce={class:"flex q-gutter-sm"},ie={key:0,class:"text-center q-my-md"},ue={__name:"ListPage",emits:["add","edit"],setup(pe,{emit:D}){const s=J(),k=m(null),b=m(null),g=m(null),x=D,I=Y();M(()=>{});const L=n=>{x("edit",n)},S=n=>{I.dialog({title:"Peringatan",message:"Apakah Data ini akan dihapus?",cancel:!0}).onOk(()=>{s.deleteItem(n==null?void 0:n.id)}).onCancel(()=>{console.log("Cancel")}).onDismiss(()=>{})};return N(()=>{var l;let n=!1;return(l=s.meta)!=null&&l.next_page_url&&(n=!0),n}),(n,l)=>{const V=p("app-input"),T=p("app-btn"),$=p("btn-edit"),q=p("btn-delete");return d(),h("div",ae,[r("div",te,[r("div",oe,[a(X,{class:"rounded-borders full-height column"},{default:t(()=>{var Q,y,C;return[r("div",se,[a(u,{header:""},{default:t(()=>[r("div",le,[r("div",ne,[r("div",re,[a(V,{modelValue:o(s).params.q,"onUpdate:modelValue":[l[0]||(l[0]=e=>o(s).params.q=e),l[1]||(l[1]=e=>{b.value.reset(),o(s).getList()})],"prepend-icon":"search",label:"Telusuri",style:{"min-width":"250px"},debounce:300},null,8,["modelValue"])])]),r("div",de,[a(T,{icon:"add",tooltip:"Tambah Data",onClick:l[2]||(l[2]=e=>x("add"))})])])]),_:1}),a(w,{inset:"item"})]),r("div",{ref_key:"scrollTarget",ref:k,class:"col full-height"},[a(O,{onLoad:o(s).loadMore,ref_key:"infiniteScroll",ref:b,disable:((Q=o(s))==null?void 0:Q.isError)||((C=(y=o(s))==null?void 0:y.meta)==null?void 0:C.next_page_url)===null,"scroll-target":k.value,offset:150,"initial-index":o(s).params.page},{loading:t(()=>[o(s).isError?R("",!0):(d(),h("div",ie,[a(W,{color:"accent",size:"40px"})]))]),default:t(()=>[(d(!0),h(P,null,j(o(s).items,(e,B)=>(d(),_(U,{key:B,transition:"fade",class:"example-item"},{default:t(()=>[A((d(),_(z,{clickable:"",onMouseover:v=>g.value=e==null?void 0:e.id,onMouseleave:l[3]||(l[3]=v=>g.value=null)},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(E,{color:"black","text-color":"white"},{default:t(()=>[c(i(e.produk[0]),1)]),_:2},1024)]),_:2},1024),a(f,{class:"row"},{default:t(()=>[a(u,{lines:"1"},{default:t(()=>[c(i(e==null?void 0:e.produk)+" ",1),a(K,{color:"grey-8",style:{height:"20px"}},{default:t(()=>[c(i(o(Z)(e==null?void 0:e.harga)),1)]),_:2},1024)]),_:2},1024),a(u,{caption:"",lines:"2"},{default:t(()=>[c(" Kategori "+i(e==null?void 0:e.kategori),1)]),_:2},1024)]),_:2},1024),g.value===(e==null?void 0:e.id)?(d(),_(f,{key:0,side:""},{default:t(()=>[r("div",ce,[a($,{onClick:v=>L(e)},null,8,["onClick"]),a(q,{onClick:v=>S(e)},null,8,["onClick"])])]),_:2},1024)):(d(),_(f,{key:1,side:"",top:""},{default:t(()=>[a(u,{caption:""},{default:t(()=>[c(i(o(G)(e==null?void 0:e.created_at)),1)]),_:2},1024),a(u,{caption:""},{default:t(()=>[c(i(o(H)(e==null?void 0:e.created_at)),1)]),_:2},1024)]),_:2},1024))]),_:2},1032,["onMouseover"])),[[F]]),a(w,{inset:"item"})]),_:2},1024))),128))]),_:1},8,["onLoad","disable","scroll-target","initial-index"])],512)]}),_:1})])])])}}},Ce=ee(ue,[["__scopeId","data-v-a43bda91"]]);export{Ce as default};
