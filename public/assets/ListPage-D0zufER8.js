import{Q as d}from"./QItemLabel-BQdZaWoa.js";import{r as g,aA as B,c as N,W as c,a4 as h,Y as i,$ as r,f as a,Z as t,a2 as l,aT as L,F as j,aV as A,X as u,Q as E,a0 as P,a9 as p,a8 as _,aj as F,a5 as z}from"./index-C65Hd5S6.js";import{Q as K,a as f}from"./QItem-BmvTbfCZ.js";import{Q as O,a as R,b as U}from"./QInfiniteScroll-Dzw5iQf_.js";import{Q as W}from"./QList-573_Wy6u.js";import{u as X}from"./notifs-C5sbblO4.js";import{h as Y,j as Z}from"./utils-BQ_Zqjwh.js";import{u as G}from"./list-Cxy2hue2.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"column fit"},ee={class:"col full-height"},ae={class:"full-height q-pa-sm"},te={class:"col-auto"},oe={class:"row full-width items-center"},se={class:"col-grow"},le={class:"flex items-center"},ne={class:"col-auto"},re={class:"flex q-gutter-sm"},ie={key:0,class:"text-center q-my-md"},de={__name:"ListPage",emits:["add","edit"],setup(ce,{emit:D}){const o=G(),k=g(null),b=g(null),m=g(null),x=D,I=X();B(()=>{o.getList(null)});const S=n=>{x("edit",n)},V=n=>{I.dialog({title:"Peringatan",message:"Apakah Data ini akan dihapus?",cancel:!0}).onOk(()=>{o.deleteItem(n==null?void 0:n.id)}).onCancel(()=>{console.log("Cancel")}).onDismiss(()=>{})};return N(()=>{var s;let n=!1;return(s=o.meta)!=null&&s.next_page_url&&(n=!0),n}),(n,s)=>{const w=c("app-input"),T=c("app-btn"),$=c("btn-edit"),q=c("btn-delete");return i(),h("div",J,[r("div",ee,[r("div",ae,[a(W,{class:"rounded-borders full-height column"},{default:t(()=>{var Q,C,y;return[r("div",te,[a(d,{header:""},{default:t(()=>[r("div",oe,[r("div",se,[r("div",le,[a(w,{modelValue:l(o).params.q,"onUpdate:modelValue":[s[0]||(s[0]=e=>l(o).params.q=e),s[1]||(s[1]=e=>{b.value.reset(),l(o).getList()})],"prepend-icon":"search",label:"Telusuri",style:{"min-width":"250px"},debounce:300},null,8,["modelValue"])])]),r("div",ne,[a(T,{icon:"add",tooltip:"Tambah Data",onClick:s[2]||(s[2]=e=>x("add"))})])])]),_:1}),a(L,{inset:"item"})]),r("div",{ref_key:"scrollTarget",ref:k,class:"col full-height"},[a(O,{onLoad:l(o).loadMore,ref_key:"infiniteScroll",ref:b,disable:((Q=l(o))==null?void 0:Q.isError)||((y=(C=l(o))==null?void 0:C.meta)==null?void 0:y.next_page_url)===null,"scroll-target":k.value,offset:150,"initial-index":l(o).params.page},{loading:t(()=>[l(o).isError?z("",!0):(i(),h("div",ie,[a(U,{color:"accent",size:"40px"})]))]),default:t(()=>[(i(!0),h(j,null,A(l(o).items,(e,M)=>(i(),u(R,{key:M,transition:"fade",class:"example-item"},{default:t(()=>[E((i(),u(K,{clickable:"",onMouseover:v=>m.value=e==null?void 0:e.id,onMouseleave:s[3]||(s[3]=v=>m.value=null)},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(P,{color:"black","text-color":"white"},{default:t(()=>[p(_(e.kategori[0]),1)]),_:2},1024)]),_:2},1024),a(f,null,{default:t(()=>[a(d,{lines:"1"},{default:t(()=>[p(_(e==null?void 0:e.kategori),1)]),_:2},1024)]),_:2},1024),m.value===(e==null?void 0:e.id)?(i(),u(f,{key:0,side:""},{default:t(()=>[r("div",re,[a($,{onClick:v=>S(e)},null,8,["onClick"]),a(q,{onClick:v=>V(e)},null,8,["onClick"])])]),_:2},1024)):(i(),u(f,{key:1,side:"",top:""},{default:t(()=>[a(d,{caption:""},{default:t(()=>[p(_(l(Y)(e==null?void 0:e.created_at)),1)]),_:2},1024),a(d,{caption:""},{default:t(()=>[p(_(l(Z)(e==null?void 0:e.created_at)),1)]),_:2},1024)]),_:2},1024))]),_:2},1032,["onMouseover"])),[[F]]),a(L,{inset:"item"})]),_:2},1024))),128))]),_:1},8,["onLoad","disable","scroll-target","initial-index"])],512)]}),_:1})])])])}}},be=H(de,[["__scopeId","data-v-ac31c3ea"]]);export{be as default};
