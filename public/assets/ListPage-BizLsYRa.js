import{Q as u}from"./QItemLabel-BQdZaWoa.js";import{r as v,aA as M,c as P,W as p,a4 as h,Y as d,$ as r,f as a,Z as t,a2 as s,aT as L,F as A,aV as N,X as _,Q as j,a0 as E,a9 as i,a8 as c,aj as F,a5 as z}from"./index-C65Hd5S6.js";import{Q as O,a as f}from"./QItem-BmvTbfCZ.js";import{Q as R}from"./QBadge-B3PrbMx8.js";import{Q as U,a as W,b as X}from"./QInfiniteScroll-Dzw5iQf_.js";import{Q as Y}from"./QList-573_Wy6u.js";import{u as Z}from"./notifs-C5sbblO4.js";import{f as G}from"./formatter-BUPKQdZl.js";import{h as H,j as J}from"./utils-BQ_Zqjwh.js";import{u as K}from"./list-CAT0HFlA.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"column fit"},te={class:"col full-height"},oe={class:"full-height q-pa-sm"},se={class:"col-auto"},le={class:"row full-width items-center"},ne={class:"col-grow"},re={class:"flex items-center"},de={class:"col-auto"},ie={class:"flex q-gutter-sm"},ce={key:0,class:"text-center q-my-md"},ue={__name:"ListPage",emits:["add","edit"],setup(pe,{emit:D}){const o=K(),k=v(null),x=v(null),g=v(null),Q=D,I=Z();M(()=>{o.getList(null)});const S=n=>{Q("edit",n)},V=n=>{I.dialog({title:"Peringatan",message:"Apakah Data ini akan dihapus?",cancel:!0}).onOk(()=>{o.deleteItem(n==null?void 0:n.id)}).onCancel(()=>{console.log("Cancel")}).onDismiss(()=>{})};return P(()=>{var l;let n=!1;return(l=o.meta)!=null&&l.next_page_url&&(n=!0),n}),(n,l)=>{const w=p("app-input"),T=p("app-btn"),$=p("btn-edit"),q=p("btn-delete");return d(),h("div",ae,[r("div",te,[r("div",oe,[a(Y,{class:"rounded-borders full-height column"},{default:t(()=>{var b,y,C;return[r("div",se,[a(u,{header:""},{default:t(()=>[r("div",le,[r("div",ne,[r("div",re,[a(w,{modelValue:s(o).params.q,"onUpdate:modelValue":[l[0]||(l[0]=e=>s(o).params.q=e),l[1]||(l[1]=e=>{x.value.reset(),s(o).getList()})],"prepend-icon":"search",label:"Telusuri",style:{"min-width":"250px"},debounce:300},null,8,["modelValue"])])]),r("div",de,[a(T,{icon:"add",tooltip:"Tambah Data",onClick:l[2]||(l[2]=e=>Q("add"))})])])]),_:1}),a(L,{inset:"item"})]),r("div",{ref_key:"scrollTarget",ref:k,class:"col full-height"},[a(U,{onLoad:s(o).loadMore,ref_key:"infiniteScroll",ref:x,disable:((b=s(o))==null?void 0:b.isError)||((C=(y=s(o))==null?void 0:y.meta)==null?void 0:C.next_page_url)===null,"scroll-target":k.value,offset:150,"initial-index":s(o).params.page},{loading:t(()=>[s(o).isError?z("",!0):(d(),h("div",ce,[a(X,{color:"accent",size:"40px"})]))]),default:t(()=>[(d(!0),h(A,null,N(s(o).items,(e,B)=>(d(),_(W,{key:B,transition:"fade",class:"example-item"},{default:t(()=>[j((d(),_(O,{clickable:"",onMouseover:m=>g.value=e==null?void 0:e.id,onMouseleave:l[3]||(l[3]=m=>g.value=null)},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(E,{color:"black","text-color":"white"},{default:t(()=>[i(c(e.pelanggan[0]),1)]),_:2},1024)]),_:2},1024),a(f,null,{default:t(()=>[a(u,{lines:"1"},{default:t(()=>[i(c(e==null?void 0:e.pelanggan)+" ",1),a(R,{color:"pink-8",style:{height:"20px"}},{default:t(()=>[i(c(s(G)(e==null?void 0:e.nohp)),1)]),_:2},1024)]),_:2},1024),a(u,{caption:"",lines:"2"},{default:t(()=>[i(" Alamat : "+c(e==null?void 0:e.alamat),1)]),_:2},1024)]),_:2},1024),g.value===(e==null?void 0:e.id)?(d(),_(f,{key:0,side:""},{default:t(()=>[r("div",ie,[a($,{onClick:m=>S(e)},null,8,["onClick"]),a(q,{onClick:m=>V(e)},null,8,["onClick"])])]),_:2},1024)):(d(),_(f,{key:1,side:"",top:""},{default:t(()=>[a(u,{caption:""},{default:t(()=>[i(c(s(H)(e==null?void 0:e.created_at)),1)]),_:2},1024),a(u,{caption:""},{default:t(()=>[i(c(s(J)(e==null?void 0:e.created_at)),1)]),_:2},1024)]),_:2},1024))]),_:2},1032,["onMouseover"])),[[F]]),a(L,{inset:"item"})]),_:2},1024))),128))]),_:1},8,["onLoad","disable","scroll-target","initial-index"])],512)]}),_:1})])])])}}},Ce=ee(ue,[["__scopeId","data-v-9d677955"]]);export{Ce as default};
