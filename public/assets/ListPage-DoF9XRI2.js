import{Q as d}from"./QItemLabel-BQdZaWoa.js";import{r as g,aA as B,c as N,W as c,a4 as h,Y as i,$ as r,f as a,Z as t,a2 as l,aT as S,F as j,aV as A,X as u,Q as E,a0 as P,a9 as p,a8 as _,aj as F,a5 as z}from"./index-C65Hd5S6.js";import{Q as O,a as f}from"./QItem-BmvTbfCZ.js";import{Q as R,a as U,b as W}from"./QInfiniteScroll-Dzw5iQf_.js";import{Q as X}from"./QList-573_Wy6u.js";import{u as Y}from"./notifs-C5sbblO4.js";import{h as Z,j as G}from"./utils-BQ_Zqjwh.js";import{u as H}from"./list-N0E6enZg.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"column fit"},ee={class:"col full-height"},ae={class:"full-height q-pa-sm"},te={class:"col-auto"},se={class:"row full-width items-center"},oe={class:"col-grow"},le={class:"flex items-center"},ne={class:"col-auto"},re={class:"flex q-gutter-sm"},ie={key:0,class:"text-center q-my-md"},de={__name:"ListPage",emits:["add","edit"],setup(ce,{emit:D}){const s=H(),k=g(null),b=g(null),m=g(null),x=D,I=Y();B(()=>{});const L=n=>{x("edit",n)},V=n=>{I.dialog({title:"Peringatan",message:"Apakah Data ini akan dihapus?",cancel:!0}).onOk(()=>{s.deleteItem(n==null?void 0:n.id)}).onCancel(()=>{console.log("Cancel")}).onDismiss(()=>{})};return N(()=>{var o;let n=!1;return(o=s.meta)!=null&&o.next_page_url&&(n=!0),n}),(n,o)=>{const w=c("app-input"),T=c("app-btn"),$=c("btn-edit"),q=c("btn-delete");return i(),h("div",K,[r("div",ee,[r("div",ae,[a(X,{class:"rounded-borders full-height column"},{default:t(()=>{var Q,C,y;return[r("div",te,[a(d,{header:""},{default:t(()=>[r("div",se,[r("div",oe,[r("div",le,[a(w,{modelValue:l(s).params.q,"onUpdate:modelValue":[o[0]||(o[0]=e=>l(s).params.q=e),o[1]||(o[1]=e=>{b.value.reset(),l(s).getList()})],"prepend-icon":"search",label:"Telusuri",style:{"min-width":"250px"},debounce:300},null,8,["modelValue"])])]),r("div",ne,[a(T,{icon:"add",tooltip:"Tambah Data",onClick:o[2]||(o[2]=e=>x("add"))})])])]),_:1}),a(S,{inset:"item"})]),r("div",{ref_key:"scrollTarget",ref:k,class:"col full-height"},[a(R,{onLoad:l(s).loadMore,ref_key:"infiniteScroll",ref:b,disable:((Q=l(s))==null?void 0:Q.isError)||((y=(C=l(s))==null?void 0:C.meta)==null?void 0:y.next_page_url)===null,"scroll-target":k.value,offset:150,"initial-index":l(s).params.page},{loading:t(()=>[l(s).isError?z("",!0):(i(),h("div",ie,[a(W,{color:"accent",size:"40px"})]))]),default:t(()=>[(i(!0),h(j,null,A(l(s).items,(e,M)=>(i(),u(U,{key:M,transition:"fade",class:"example-item"},{default:t(()=>[E((i(),u(O,{clickable:"",onMouseover:v=>m.value=e==null?void 0:e.id,onMouseleave:o[3]||(o[3]=v=>m.value=null)},{default:t(()=>[a(f,{avatar:""},{default:t(()=>[a(P,{color:"black","text-color":"white"},{default:t(()=>[p(_(e.satuan[0]),1)]),_:2},1024)]),_:2},1024),a(f,null,{default:t(()=>[a(d,{lines:"1"},{default:t(()=>[p(_(e==null?void 0:e.satuan),1)]),_:2},1024)]),_:2},1024),m.value===(e==null?void 0:e.id)?(i(),u(f,{key:0,side:""},{default:t(()=>[r("div",re,[a($,{onClick:v=>L(e)},null,8,["onClick"]),a(q,{onClick:v=>V(e)},null,8,["onClick"])])]),_:2},1024)):(i(),u(f,{key:1,side:"",top:""},{default:t(()=>[a(d,{caption:""},{default:t(()=>[p(_(l(Z)(e==null?void 0:e.created_at)),1)]),_:2},1024),a(d,{caption:""},{default:t(()=>[p(_(l(G)(e==null?void 0:e.created_at)),1)]),_:2},1024)]),_:2},1024))]),_:2},1032,["onMouseover"])),[[F]]),a(S,{inset:"item"})]),_:2},1024))),128))]),_:1},8,["onLoad","disable","scroll-target","initial-index"])],512)]}),_:1})])])])}}},be=J(de,[["__scopeId","data-v-7858e899"]]);export{be as default};
